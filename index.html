<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AFSÃœ UZEM Game Hub</title>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&family=Righteous&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/games/quiz.css">
    <link rel="stylesheet" href="css/games/hangman.css">
    <link rel="stylesheet" href="css/games/match.css">
    <link rel="stylesheet" href="css/games/memory.css">
</head>
<body>

<nav class="navbar">
    <div class="nav-brand">ğŸ® UZEM GAME HUB</div>
    
    <div style="display: flex; align-items: center; gap: 15px;">
        
        <a href="https://drive.google.com/file/d/1cKMecj2MHDAtQgQAieWoC1B4TK2wO-J0/view?usp=sharing" target="_blank" class="manual-btn" title="KullanÄ±m KÄ±lavuzu (PDF)">
            â„¹ï¸
        </a>

        <div id="player-display" style="display:none; color:#fbbf24; font-weight:bold; border:1px solid #fbbf24; padding:5px 15px; border-radius:20px; font-size: 0.9rem;">
            ğŸ‘¤ <span id="current-player-name">Misafir</span>
        </div>

        <button class="home-btn" style="display:none;" onclick="if(confirm('Ana sayfaya dÃ¶nmek istiyor musun?')) goToScreen('screen-hub')">ğŸ  Oyun SeÃ§imi</button>
    </div>
    </nav>

    <div id="screen-hub" class="screen active">
        <h2 class="hub-title">Hangi Oyunu HazÄ±rlamak Ä°stersin?</h2>
        <div class="hub-grid">
            <div class="game-card" onclick="openEditor('quiz')">
                <div class="card-img">ğŸ†</div>
                <div class="card-body"><div class="card-title">Bilgi YarÄ±ÅŸmasÄ±</div><p>Ã‡oktan seÃ§meli veya klasik sorular.</p></div>
            </div>
            <div class="game-card" onclick="openEditor('hangman')">
                <div class="card-img">ğŸ¤ </div>
                <div class="card-body"><div class="card-title">Adam Asmaca</div><p>Kelime tahmin oyunu.</p></div>
            </div>
            <div class="game-card" onclick="openEditor('match')">
                <div class="card-img" style="background: linear-gradient(135deg, #f59e0b, #d97706);">ğŸ§©</div>
                <div class="card-body"><div class="card-title">Kelime EÅŸleÅŸtirme</div><p>Ä°ngilizce - TÃ¼rkÃ§e eÅŸleÅŸtirme.</p></div>
            </div>
            
            <div class="game-card" onclick="openEditor('memory')">
                <div class="card-img" style="background: linear-gradient(135deg, #8b5cf6, #6d28d9);">ğŸ§ </div>
                <div class="card-body"><div class="card-title">HafÄ±za Oyunu</div><p>GÃ¶rsel hafÄ±za kartlarÄ±.</p></div>
            </div>
        </div>
    </div>

    <div id="screen-editor" class="screen">
        <div class="editor-container">
            <h2 id="editor-title">Oyun HazÄ±rlanÄ±yor...</h2>
            
            <div class="toolbar">
                <div class="toolbar-group">
                    <button class="btn btn-dl btn-mini" onclick="downloadTemplate()" title="Taslak Ä°ndir">ğŸ“¥ Taslak</button>
                    <input type="file" id="excel-upload" accept=".xlsx" hidden onchange="handleExcel(this)">
                    <button class="btn btn-up btn-mini" onclick="document.getElementById('excel-upload').click()" title="Excel YÃ¼kle">ğŸ“‚ YÃ¼kle</button>
                </div>

                <div class="toolbar-group flex-grow">
                    <div class="input-with-btn">
                        <input type="text" id="sheet-id-input" class="form-input" placeholder="Google Sheet Linki...">
                        <button class="btn btn-green" style="background:#f59e0b; white-space:nowrap;" onclick="generateShareLink()">ğŸ”— LÄ°NK</button>
                    </div>
                </div>

                <div class="toolbar-group">
                    <div class="converter-box">
                        <select id="convert-select">
                            <option value="quiz">ğŸ† Quiz</option>
                            <option value="hangman">ğŸ¤  Adam Asmaca</option>
                            <option value="match">ğŸ§© EÅŸleÅŸtirme</option>
                            <option value="memory">ğŸ§  HafÄ±za</option>
                        </select>
                        <button class="btn btn-up btn-mini" onclick="convertGame()">Ã‡evir â¡</button>
                    </div>
                </div>

                <div class="toolbar-group" style="width:100%; justify-content:space-between; border-top:1px solid rgba(255,255,255,0.1); padding-top:10px;">
                    <button class="btn btn-green" onclick="addEmptyItem()">+ Yeni Soru</button>
                    <button class="btn btn-red" onclick="clearAllData()">ğŸ—‘ï¸ Temizle</button>
                </div>
            </div>

            <div id="editor-list"></div>

            <div class="play-action">
                <button class="btn btn-play" onclick="startGame()">â–¶ OYUNU BAÅLAT</button>
            </div>
        </div>
    </div>

    <div id="screen-quiz" class="screen game-screen">
        <div class="game-top-bar"><button class="btn-back" onclick="openEditor('quiz')">âš™ DÃ¼zenle</button></div>
        <div id="quiz-board" class="quiz-grid"></div>
        <div class="score-bar">
            <div id="score-panel-team" style="display:flex; gap:40px;">
                <div class="team-a-box">TakÄ±m A: <strong id="score-a">0</strong> <button onclick="modScore('a', 100)">+</button></div>
                <div class="team-b-box">TakÄ±m B: <strong id="score-b">0</strong> <button onclick="modScore('b', 100)">+</button></div>
            </div>
            <div id="score-panel-single" style="display:none; color:#fbbf24; font-size:1.5rem; font-family:'Righteous';">Toplam: <strong id="score-single">0</strong> XP</div>
        </div>
    </div>

    <div id="screen-hangman" class="screen game-screen">
        <div class="game-top-bar"><button class="btn-back" onclick="openEditor('hangman')">âš™ DÃ¼zenle</button></div>
        <div class="hangman-area">
            <svg class="hangman-drawing" viewBox="0 0 200 200">
                <line x1="20" y1="190" x2="180" y2="190" /><line x1="50" y1="190" x2="50" y2="20" /><line x1="50" y1="20" x2="120" y2="20" /><line x1="120" y1="20" x2="120" y2="40" /><circle id="hang-head" cx="120" cy="60" r="20" style="display:none" /><line id="hang-body" x1="120" y1="80" x2="120" y2="140" style="display:none" /><line id="hang-larm" x1="120" y1="100" x2="90" y2="130" style="display:none" /><line id="hang-rarm" x1="120" y1="100" x2="150" y2="130" style="display:none" /><line id="hang-lleg" x1="120" y1="140" x2="100" y2="180" style="display:none" /><line id="hang-rleg" x1="120" y1="140" x2="140" y2="180" style="display:none" />
            </svg>
            <div style="text-align:right;"><button class="btn btn-up small-btn" onclick="nextHangmanWord()">Sonraki â¡</button></div>
            <div class="hint-box">ğŸ’¡ Ä°pucu: <span id="hang-hint">...</span></div>
            <div class="word-display" id="hang-word">_ _ _ _ _</div>
            <div class="keyboard" id="hang-keyboard"></div>
            <h2 id="hang-msg"></h2>
        </div>
    </div>

    <div id="screen-match" class="screen game-screen">
        <div class="game-top-bar">
            <button class="btn-back" onclick="openEditor('match')">âš™ DÃ¼zenle</button>
            <div class="timer-badge">â³ <span id="match-timer">00:00</span></div>
        </div>
        <div id="match-area" class="match-grid"></div>
        <div id="match-gameover" class="modal-overlay">
            <div class="modal-box">
                <h1>TEBRÄ°KLER! ğŸ‰</h1>
                <p>TÃ¼m kelimeleri eÅŸleÅŸtirdin.</p>
                <h2 style="color:#f59e0b;">SÃ¼re: <span id="final-time"></span></h2>
                <button class="btn btn-green" onclick="restartMatch()">ğŸ”„ Tekrar Oyna</button>
                <button class="btn btn-red" onclick="openEditor('match')">Ã‡Ä±kÄ±ÅŸ</button>
            </div>
        </div>
    </div>

    <div id="screen-memory" class="screen game-screen">
        <div class="game-top-bar">
            <button class="btn-back" onclick="openEditor('memory')">âš™ DÃ¼zenle</button>
            <div style="display:flex; gap:15px;">
                <div class="timer-badge" style="font-size:1.2rem;">â³ <span id="mem-timer">00:00</span></div>
                <div class="timer-badge" style="font-size:1.2rem; border-color:#8b5cf6; color:#8b5cf6;">ğŸ”„ <span id="mem-moves">0</span></div>
            </div>
        </div>
        <div id="memory-board" class="memory-grid"></div>
        <div id="memory-gameover" class="modal-overlay">
            <div class="modal-box">
                <h1>HAFIZA KRALI! ğŸ§ </h1>
                <p>TÃ¼m eÅŸleri buldun.</p>
                <div style="display:flex; justify-content:center; gap:20px; color:#cbd5e1;">
                    <div>â±ï¸ <span id="final-mem-time"></span></div>
                    <div>ğŸ”„ <span id="final-mem-moves"></span></div>
                </div>
                <button class="btn btn-green" onclick="restartMemory()">ğŸ”„ Tekrar Oyna</button>
                <button class="btn btn-red" onclick="openEditor('memory')">Ã‡Ä±kÄ±ÅŸ</button>
            </div>
        </div>
    </div>
    

    <button id="global-sound-btn" class="fixed-sound-btn" style="display:none;" onclick="toggleGlobalSound(this)">ğŸ”Š</button>

    <div class="modal-overlay" id="q-modal">
        <div class="modal-box">
            <h2 id="m-points"></h2>
            <h1 id="m-question"></h1>
            <div id="m-options-area"></div> 
            <div id="m-answer"></div>
            <button class="btn btn-up" id="btn-reveal" onclick="revealQuizAnswer()">CevabÄ± GÃ¶ster</button>
            <button class="btn btn-dl btn-red" onclick="closeModal()">Kapat</button>
        </div>
    </div>
    
    <div style="text-align: center; color: #5a6b82; font-size: 0.8rem; padding: 20px 0 10px 0; margin-top: 40px; border-top: 1px solid rgba(255, 255, 255, 0.05);">
        Design & Developed by Abdullah CÄ°HAN |  UZEM Game Hub Â© 2025
    </div>

    <script src="js/games/quiz.js"></script>
    <script src="js/games/hangman.js"></script>
    <script src="js/games/match.js"></script>
    <script src="js/games/memory.js"></script>
    <script type="module" src="js/main.js"></script>

    <audio id="sound-correct" src="https://actions.google.com/sounds/v1/cartoon/cartoon_boing.ogg"></audio>
    <audio id="sound-wrong" src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg"></audio>
    <audio id="sound-win" src="https://actions.google.com/sounds/v1/cartoon/clown_horn_squeeze.ogg"></audio>
    <audio id="sound-click" src="https://actions.google.com/sounds/v1/cartoon/pop.ogg"></audio>

</body>
</html>
